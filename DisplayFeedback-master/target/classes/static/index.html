<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Feedback Form</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
	crossorigin="anonymous">

</head>
<body>
		<div class="d-flex justify-content-center vh-100">
			<!-- <div class="user_card"> -->
				<div class="d-flex justify-content-center align-items-center ">
					<form id="form" class="border border-3 rounded p-4">
						<h1 class="text-center">Feedback:</h1>
						<div class="input-group mb-3">

							<textarea id="feedbackArea" name="feedback" rows="5" cols="33"
								placeholder="Enter feedback here..." class="form-control"></textarea>

						</div>
						<div class="input-group mb-2">

							<input type="number" id="ratingValue" placeholder="Rating"
								class="form-control">
						</div>
						<div class="d-flex justify-content-center mt-3">
							<input type="submit" value="Submit">
						</div>
					</form>
				</div>
			<!-- </div> -->
		</div>

</body>
<script type="text/javascript">

	function onSubmit(event) {
		event.preventDefault();
		let data = {feedback: '', rating: 0};
		data.feedback = document.getElementById("feedbackArea").value;
		data.rating = document.getElementById("ratingValue").value;
		
		console.log(data);
		fetch('http://localhost:8080/add', {
			method : 'POST',
			headers : {
				'Content-Type' : 'application/json',
			},
			body : JSON.stringify(data),
		}).then(() => window.location.replace("http://localhost:8080/show"))
	}
	
	const form = document.getElementById("form");
	form.addEventListener('submit', onSubmit);
</script>
</html>